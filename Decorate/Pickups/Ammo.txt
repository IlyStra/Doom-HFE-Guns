Actor BackpackSpawner : Randomspawner replaces Backpack 
{
DropItem "BackpackWithToolz", 255, 25
DropItem "BackPackWithoutToolz", 255, 75
}

Actor BackPackWithToolz 
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("UACBackPack", 5, 0, 0, 0, 0, 0, 0,SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS, 0, tid) 
		TNT1 A 1 A_SpawnItemEx("UACTOOLZ", -5, 0, 0, 0, 0, 0, 0,SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS, 0, tid) 
		Goto Death
	Death:
		TNT1 A -1 //Wait to be picked up
		Stop
	}
}

Actor BackPackWithoutToolz 
{
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("UACBackPack", 0, 0, 0, 0, 0, 0, 0,SXF_TRANSFERSPECIAL|SXF_TRANSFERPOINTERS, 0, tid) 
		Goto Death
	Death:
		TNT1 A -1 //Wait to be picked up
		Stop
	}
}

Actor UACBackPack : CustomInventory 
{
  Inventory.PickupSound "DSBACK"
  Inventory.PickupMessage "Picked up an Ammo Backpack!"
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  States
  {
  Spawn:
    BPAK A -1
    Loop
  Pickup:
    TNT1 A 0 ACS_NamedExecuteAlways("HammerspaceBackpack")
    Stop
  }
}

Actor ClipSpawner : Randomspawner Replaces Clip
{
DropItem "BLTClip"
DropItem "RIFClip"
}

Actor ClipboxSpawner : Randomspawner Replaces Clipbox
{
DropItem "BLTpack"
DropItem "RIFpack"
}

ACTOR BLTClip : Ammo 
{
  Inventory.PickupMessage "Picked up a Pistol Bullet Mag." 
  Inventory.Amount 15
  Inventory.MaxAmount 150
  Ammo.BackpackAmount 30
  Ammo.BackpackMaxAmount 300
  Inventory.Icon "HGCLA0"
  Inventory.PickupSound "MEPICK"
  States
  {
  Spawn:
    HGCL A -1
    Stop
  }
}

ACTOR BLTpack : BLTClip 
{
  Inventory.PickupMessage "Picked up a Pistol Bullet Box." 
  Inventory.Amount 60
  Inventory.PickupSound "MEPICK"
  States
  {
  Spawn:
    HGBO A -1
    Stop
  }
}

ACTOR RIFClip : Ammo 
{
  Inventory.PickupMessage "Picked up a Rifle Bullet Mag." 
  Inventory.Amount 15
  Inventory.MaxAmount 150
  Ammo.BackpackAmount 30
  Ammo.BackpackMaxAmount 300
  Inventory.Icon "CLIPA0"
  Inventory.PickupSound "MEPICK"
  States
  {
  Spawn:
    CLIP A -1
    Stop
  }
}

ACTOR RIFpack : RIFClip 
{
  Inventory.PickupMessage "Picked up a Rifle Bullet Box." 
  Inventory.Amount 60
  Inventory.PickupSound "MEPICK"
  States
  {
  Spawn:
    AMMO A -1
    Stop
  }
}

ACTOR ShotShell : Ammo replaces Shell
{
  Inventory.PickupMessage "Picked up four 12 Gauge shells." 
  Inventory.Amount 4
  Inventory.MaxAmount 50
  Ammo.BackpackAmount 8
  Ammo.BackpackMaxAmount 100
  Inventory.Icon "SHELA0"
  Inventory.PickupSound "MEPICK"
  States
  {
  Spawn:
    SHEL A -1
    Stop
  }
}

ACTOR ShellPac : ShotShell replaces Shellbox
{
  Inventory.PickupMessage "Picked up a 12 Gauge shell box." 
  Inventory.Amount 12
  Inventory.PickupSound "MEPICK"
  States
  {
  Spawn:
    SBOX A -1
    Stop
  }
}


Actor HFEG_OneRocketBoxSpawner Replaces RocketAmmo
{
	+NoInteraction
	States
	{
	Spawn:
		TNT1 A 0 
		TNT1 A 0 A_SpawnItemEx("HFEG_OneRocketBox", 0, 0, 0, VelX, VelY, VelZ, 0, 0, 168)
		Stop
	}
}

Actor HFEG_RocketBoxSpawner Replaces RocketBox
{
	+NoInteraction
	States
	{
	Spawn:
		TNT1 A 0 
		TNT1 A 0 A_SpawnItemEx("HFEG_RocketBox", 0, 0, 0, VelX, VelY, VelZ, 0, 0, 192)
		Stop
	}
}

Actor HFEG_OneRocketBox : RocketAmmo
{
	Radius 16
	Height 30
	Inventory.Amount 1
	Inventory.MaxAmount 50
	Ammo.BackpackAmount 1
	Ammo.BackpackMaxAmount 100
	Inventory.Icon "CBX0A0"
	States
	{
	Spawn:
		CBX0 A Random(-1, 2)
		CBX0 B Random(-1, 2)
		CBX0 C Random(-1, 2)
		CBX0 D Random(-1, 2)
		CBX0 E -1
		Stop
	}
}

Actor HFEG_RocketBox : RocketBox
{
	Radius 28
	Height 30
	Inventory.Amount 5
	States
	{
	Spawn:
		CBX1 A Random(-1, 2)
		CBX1 B Random(-1, 2)
		CBX1 C Random(-1, 2)
		CBX1 D Random(-1, 2)
		CBX1 E Random(-1, 2)
		CBX1 F -1
		Stop
	}
}

Actor UACPlasmaAmmo : Ammo replaces Cell 
{
    Inventory.PickupMessage "Picked up a energy cell."
    Inventory.Amount 20
    Inventory.MaxAmount 300
    Ammo.BackpackAmount 20
    Ammo.BackpackMaxAmount 600
    Inventory.Icon "CELLA0"
	Inventory.PickupSound "MEPICK"
    States
    {
    Spawn:
        CELL ABCDE 4
        Loop
    }
}

Actor UACPlasmaAmmoPack : UACPlasmaAmmo replaces CellPack
{
    Inventory.PickupMessage "Picked up a energy cellpack."
    Inventory.Amount 100
	Inventory.PickupSound "MEPICK"
    States
    {
    Spawn:
        CELP ABCDE 4
        Loop
    }
}
